<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Payout: payoutd.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Payout
   </div>
   <div id="projectbrief">A thin wrapper around the SSP protocol from ITL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">payoutd.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main source file for the payoutd daemon.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;port_linux.h&quot;</code><br />
<code>#include &quot;ssp_defines.h&quot;</code><br />
<code>#include &quot;ssp_commands.h&quot;</code><br />
<code>#include &quot;SSPComs.h&quot;</code><br />
<code>#include &lt;jansson.h&gt;</code><br />
<code>#include &lt;hiredis/hiredis.h&gt;</code><br />
<code>#include &lt;hiredis/async.h&gt;</code><br />
<code>#include &lt;hiredis/adapters/libevent.h&gt;</code><br />
<code>#include &lt;syslog.h&gt;</code><br />
<code>#include &lt;uuid/uuid.h&gt;</code><br />
<code>#include &quot;StringBuffer.h&quot;</code><br />
<code>#include &quot;StringBuffer.c&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm__device.html">m_device</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure which describes an actual physical ITL device.  <a href="structm__device.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm__metacash.html">m_metacash</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure which contains the generic setup data and the device structures for our two ITL devices.  <a href="structm__metacash.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structm__command.html">m_command</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure which describes an actual command which we received in one of our request topics.  <a href="structm__command.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a423e5d48c36beefb80f8df5345f3b077"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a423e5d48c36beefb80f8df5345f3b077"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a423e5d48c36beefb80f8df5345f3b077">SSP_CMD_GET_FIRMWARE_VERSION</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:a423e5d48c36beefb80f8df5345f3b077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "GET FIRMWARE VERSION" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:a423e5d48c36beefb80f8df5345f3b077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fcda3bb90b9b2692122457f5440a37b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fcda3bb90b9b2692122457f5440a37b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a1fcda3bb90b9b2692122457f5440a37b">SSP_CMD_GET_DATASET_VERSION</a>&#160;&#160;&#160;0x21</td></tr>
<tr class="memdesc:a1fcda3bb90b9b2692122457f5440a37b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "GET DATASET VERSION" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:a1fcda3bb90b9b2692122457f5440a37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad767ea6633ec6f06caca47585a0aa26a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad767ea6633ec6f06caca47585a0aa26a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ad767ea6633ec6f06caca47585a0aa26a">SSP_CMD_GET_ALL_LEVELS</a>&#160;&#160;&#160;0x22</td></tr>
<tr class="memdesc:ad767ea6633ec6f06caca47585a0aa26a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "GET ALL LEVELS" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:ad767ea6633ec6f06caca47585a0aa26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf4cf011490487bb5982c65ca19627b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedf4cf011490487bb5982c65ca19627b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aedf4cf011490487bb5982c65ca19627b">SSP_CMD_SET_DENOMINATION_LEVEL</a>&#160;&#160;&#160;0x34</td></tr>
<tr class="memdesc:aedf4cf011490487bb5982c65ca19627b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "SET DENOMINATION LEVEL" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:aedf4cf011490487bb5982c65ca19627b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cddc48d6a39a183b5f96b11d0077974"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8cddc48d6a39a183b5f96b11d0077974"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a8cddc48d6a39a183b5f96b11d0077974">SSP_CMD_LAST_REJECT_NOTE</a>&#160;&#160;&#160;0x17</td></tr>
<tr class="memdesc:a8cddc48d6a39a183b5f96b11d0077974"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "LAST REJECT NOTE" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:a8cddc48d6a39a183b5f96b11d0077974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408c44a77c599ed61743627a4d642e89"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a408c44a77c599ed61743627a4d642e89"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a408c44a77c599ed61743627a4d642e89">SSP_CMD_CONFIGURE_BEZEL</a>&#160;&#160;&#160;0x54</td></tr>
<tr class="memdesc:a408c44a77c599ed61743627a4d642e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "CONFIGURE BEZEL" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:a408c44a77c599ed61743627a4d642e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87ece9d29bf5f2bac4fca26e47f461a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae87ece9d29bf5f2bac4fca26e47f461a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ae87ece9d29bf5f2bac4fca26e47f461a">SSP_CMD_SMART_EMPTY</a>&#160;&#160;&#160;0x52</td></tr>
<tr class="memdesc:ae87ece9d29bf5f2bac4fca26e47f461a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "SMART EMPTY" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:ae87ece9d29bf5f2bac4fca26e47f461a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2170157c019f6ad3788855fba27340e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2170157c019f6ad3788855fba27340e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ab2170157c019f6ad3788855fba27340e">SSP_CMD_SET_REFILL_MODE</a>&#160;&#160;&#160;0x30</td></tr>
<tr class="memdesc:ab2170157c019f6ad3788855fba27340e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "SET REFILL MODE " command ID as specified in SSP. <br /></td></tr>
<tr class="separator:ab2170157c019f6ad3788855fba27340e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce1eb50a8ec8f990691c94ad1644480"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ce1eb50a8ec8f990691c94ad1644480"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a9ce1eb50a8ec8f990691c94ad1644480">SSP_CMD_DISPLAY_OFF</a>&#160;&#160;&#160;0x4</td></tr>
<tr class="memdesc:a9ce1eb50a8ec8f990691c94ad1644480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "DISPLAY OFF" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:a9ce1eb50a8ec8f990691c94ad1644480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42bbe1cf7115baaac73840932e3ba16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae42bbe1cf7115baaac73840932e3ba16"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ae42bbe1cf7115baaac73840932e3ba16">SSP_CMD_DISPLAY_ON</a>&#160;&#160;&#160;0x3</td></tr>
<tr class="memdesc:ae42bbe1cf7115baaac73840932e3ba16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "DISPLAY ON" command ID as specified in SSP. <br /></td></tr>
<tr class="separator:ae42bbe1cf7115baaac73840932e3ba16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d12150d56c77b5c3d1624a759b74be6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d12150d56c77b5c3d1624a759b74be6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a8d12150d56c77b5c3d1624a759b74be6">mcSspOpenSerialDevice</a> (struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash)</td></tr>
<tr class="memdesc:a8d12150d56c77b5c3d1624a759b74be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the serial device. <br /></td></tr>
<tr class="separator:a8d12150d56c77b5c3d1624a759b74be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4bb6e155aabd3b6a2c6db28399135e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4bb6e155aabd3b6a2c6db28399135e5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ac4bb6e155aabd3b6a2c6db28399135e5">mcSspCloseSerialDevice</a> (struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash)</td></tr>
<tr class="memdesc:ac4bb6e155aabd3b6a2c6db28399135e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the serial device. <br /></td></tr>
<tr class="separator:ac4bb6e155aabd3b6a2c6db28399135e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe50e986e1dd105ae9fc8921f3f9051"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfe50e986e1dd105ae9fc8921f3f9051"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#abfe50e986e1dd105ae9fc8921f3f9051">mcSspSetupCommand</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, int deviceId)</td></tr>
<tr class="memdesc:abfe50e986e1dd105ae9fc8921f3f9051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> structure. <br /></td></tr>
<tr class="separator:abfe50e986e1dd105ae9fc8921f3f9051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade94aea4623a1fdceb8126e9bf29e94c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade94aea4623a1fdceb8126e9bf29e94c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ade94aea4623a1fdceb8126e9bf29e94c">mcSspInitializeDevice</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, unsigned long long key, struct <a class="el" href="structm__device.html">m_device</a> *device)</td></tr>
<tr class="memdesc:ade94aea4623a1fdceb8126e9bf29e94c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an ITL hardware device via SSP. <br /></td></tr>
<tr class="separator:ade94aea4623a1fdceb8126e9bf29e94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdaa5baeaac655f85018190279cc12cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdaa5baeaac655f85018190279cc12cb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#abdaa5baeaac655f85018190279cc12cb">mcSspPollDevice</a> (struct <a class="el" href="structm__device.html">m_device</a> *device, struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash)</td></tr>
<tr class="memdesc:abdaa5baeaac655f85018190279cc12cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issues a poll command to the hardware and dispatches the response to the event handler function of the device. <br /></td></tr>
<tr class="separator:abdaa5baeaac655f85018190279cc12cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9841e909381cf1e0686bd94e1c8cb88"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9841e909381cf1e0686bd94e1c8cb88"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aa9841e909381cf1e0686bd94e1c8cb88">mc_ssp_empty</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC)</td></tr>
<tr class="memdesc:aa9841e909381cf1e0686bd94e1c8cb88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "EMPTY" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:aa9841e909381cf1e0686bd94e1c8cb88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df8b10c8bd9df95d2763498122abd79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5df8b10c8bd9df95d2763498122abd79"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a5df8b10c8bd9df95d2763498122abd79">mc_ssp_smart_empty</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC)</td></tr>
<tr class="memdesc:a5df8b10c8bd9df95d2763498122abd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "SMART EMPTY" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a5df8b10c8bd9df95d2763498122abd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de01e04a4a8f8a391028a56b9d9516e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6de01e04a4a8f8a391028a56b9d9516e"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a6de01e04a4a8f8a391028a56b9d9516e">mc_ssp_configure_bezel</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, unsigned char r, unsigned char g, unsigned char b, unsigned char volatileOption, unsigned char bezelTypeOption)</td></tr>
<tr class="memdesc:a6de01e04a4a8f8a391028a56b9d9516e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "CONFIGURE BEZEL" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a6de01e04a4a8f8a391028a56b9d9516e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046d73ded6f0b9553d964647c0a97ef9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a046d73ded6f0b9553d964647c0a97ef9"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a046d73ded6f0b9553d964647c0a97ef9">mc_ssp_display_on</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC)</td></tr>
<tr class="memdesc:a046d73ded6f0b9553d964647c0a97ef9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "DISPLAY ON" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a046d73ded6f0b9553d964647c0a97ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2105956a3a7584abb05d1f14dba0d373"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2105956a3a7584abb05d1f14dba0d373"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a2105956a3a7584abb05d1f14dba0d373">mc_ssp_display_off</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC)</td></tr>
<tr class="memdesc:a2105956a3a7584abb05d1f14dba0d373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "DISPLAY OFF" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a2105956a3a7584abb05d1f14dba0d373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165bd3c41d86473ded303afed2db8a69"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a165bd3c41d86473ded303afed2db8a69"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a165bd3c41d86473ded303afed2db8a69">mc_ssp_last_reject_note</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, unsigned char *reason)</td></tr>
<tr class="memdesc:a165bd3c41d86473ded303afed2db8a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "LAST REJECT NOTE" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a165bd3c41d86473ded303afed2db8a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90dd1de62c41bc83fb436ea94aea11bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90dd1de62c41bc83fb436ea94aea11bc"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a90dd1de62c41bc83fb436ea94aea11bc">mc_ssp_set_refill_mode</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC)</td></tr>
<tr class="memdesc:a90dd1de62c41bc83fb436ea94aea11bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "SET REFILL MODE" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a90dd1de62c41bc83fb436ea94aea11bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2198a2571b2707d077a1773b2d29d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b2198a2571b2707d077a1773b2d29d4"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a2b2198a2571b2707d077a1773b2d29d4">mc_ssp_get_all_levels</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, char **json)</td></tr>
<tr class="memdesc:a2b2198a2571b2707d077a1773b2d29d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "GET ALL LEVELS" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a2b2198a2571b2707d077a1773b2d29d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426f1d400bd134dd1bb09a13b257ad92"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a426f1d400bd134dd1bb09a13b257ad92"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a426f1d400bd134dd1bb09a13b257ad92">mc_ssp_set_denomination_level</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, int amount, int level, const char *cc)</td></tr>
<tr class="memdesc:a426f1d400bd134dd1bb09a13b257ad92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "SET DENOMINATION LEVEL" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a426f1d400bd134dd1bb09a13b257ad92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace829a07031b195909e31a32401b7848"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace829a07031b195909e31a32401b7848"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ace829a07031b195909e31a32401b7848">mc_ssp_float</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, const int value, const char *cc, const char option)</td></tr>
<tr class="memdesc:ace829a07031b195909e31a32401b7848"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "FLOAT" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:ace829a07031b195909e31a32401b7848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee238d6d8c01467e1afbd114d6b92fa2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee238d6d8c01467e1afbd114d6b92fa2"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aee238d6d8c01467e1afbd114d6b92fa2">mc_ssp_channel_security_data</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC)</td></tr>
<tr class="memdesc:aee238d6d8c01467e1afbd114d6b92fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "CHANNEL SECURITY DATA" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:aee238d6d8c01467e1afbd114d6b92fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37beac96948c8fc0bb43d2e7c8cd2b31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37beac96948c8fc0bb43d2e7c8cd2b31"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a37beac96948c8fc0bb43d2e7c8cd2b31">mc_ssp_get_firmware_version</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, char *firmwareVersion)</td></tr>
<tr class="memdesc:a37beac96948c8fc0bb43d2e7c8cd2b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "GET FIRMWARE VERSION" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:a37beac96948c8fc0bb43d2e7c8cd2b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af224c3fd651e14793cb9d435b4eec93d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af224c3fd651e14793cb9d435b4eec93d"></a>
SSP_RESPONSE_ENUM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#af224c3fd651e14793cb9d435b4eec93d">mc_ssp_get_dataset_version</a> (<a class="el" href="structSSP__COMMAND.html">SSP_COMMAND</a> *sspC, char *datasetVersion)</td></tr>
<tr class="memdesc:af224c3fd651e14793cb9d435b4eec93d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the "GET DATASET VERSION" command from the SSP Protocol. <br /></td></tr>
<tr class="separator:af224c3fd651e14793cb9d435b4eec93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae443387b74fb23fa8caca5b9eb6acae9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae443387b74fb23fa8caca5b9eb6acae9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ae443387b74fb23fa8caca5b9eb6acae9">parseCmdLine</a> (int argc, char *argv[], struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash)</td></tr>
<tr class="memdesc:ae443387b74fb23fa8caca5b9eb6acae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the command line arguments. <br /></td></tr>
<tr class="separator:ae443387b74fb23fa8caca5b9eb6acae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e3e142be0a60922a20d50820672d37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43e3e142be0a60922a20d50820672d37"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a43e3e142be0a60922a20d50820672d37">setup</a> (struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash)</td></tr>
<tr class="memdesc:a43e3e142be0a60922a20d50820672d37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and configures redis, libevent and the hardware. <br /></td></tr>
<tr class="separator:a43e3e142be0a60922a20d50820672d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8bc0840980431554dcca7371b87d77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b8bc0840980431554dcca7371b87d77"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a5b8bc0840980431554dcca7371b87d77">hopperEventHandler</a> (struct <a class="el" href="structm__device.html">m_device</a> *device, struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash, <a class="el" href="structSSP__POLL__DATA6.html">SSP_POLL_DATA6</a> *poll)</td></tr>
<tr class="memdesc:a5b8bc0840980431554dcca7371b87d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function used for inspecting and publishing events reported by the Hopper hardware. <br /></td></tr>
<tr class="separator:a5b8bc0840980431554dcca7371b87d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac32e697eabde481d9782c8a50b0cabad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac32e697eabde481d9782c8a50b0cabad"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ac32e697eabde481d9782c8a50b0cabad">validatorEventHandler</a> (struct <a class="el" href="structm__device.html">m_device</a> *device, struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash, <a class="el" href="structSSP__POLL__DATA6.html">SSP_POLL_DATA6</a> *poll)</td></tr>
<tr class="memdesc:ac32e697eabde481d9782c8a50b0cabad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function used for inspecting and publishing events reported by the Validator hardware. <br /></td></tr>
<tr class="separator:ac32e697eabde481d9782c8a50b0cabad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e59c7203b3bddc1bc9a2224b52e8e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2e59c7203b3bddc1bc9a2224b52e8e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ad2e59c7203b3bddc1bc9a2224b52e8e7">signalHandler</a> (int signal)</td></tr>
<tr class="memdesc:ad2e59c7203b3bddc1bc9a2224b52e8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal handler. <br /></td></tr>
<tr class="separator:ad2e59c7203b3bddc1bc9a2224b52e8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b835f9f362b154daf20b92245ed57fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b835f9f362b154daf20b92245ed57fe"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a7b835f9f362b154daf20b92245ed57fe">hardwareWaitTime</a> ()</td></tr>
<tr class="memdesc:a7b835f9f362b154daf20b92245ed57fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for 300ms each time called. <br /></td></tr>
<tr class="separator:a7b835f9f362b154daf20b92245ed57fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0239b487dc36abac6fdd2dfa167ec3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a0239b487dc36abac6fdd2dfa167ec3"></a>
redisAsyncContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a7a0239b487dc36abac6fdd2dfa167ec3">connectRedis</a> (struct <a class="el" href="structm__metacash.html">m_metacash</a> *metacash)</td></tr>
<tr class="memdesc:a7a0239b487dc36abac6fdd2dfa167ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to redis and return a new redisAsyncContext. <br /></td></tr>
<tr class="separator:a7a0239b487dc36abac6fdd2dfa167ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb7bc72e34521d01ee7a7f94014056c7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb7bc72e34521d01ee7a7f94014056c7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#acb7bc72e34521d01ee7a7f94014056c7">cbOnPollEvent</a> (int fd, short event, void *privdata)</td></tr>
<tr class="memdesc:acb7bc72e34521d01ee7a7f94014056c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for libEvent timer triggered "Poll" event. <br /></td></tr>
<tr class="separator:acb7bc72e34521d01ee7a7f94014056c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd16e913186045840ecc0b068f92460"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefd16e913186045840ecc0b068f92460"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aefd16e913186045840ecc0b068f92460">cbOnCheckQuitEvent</a> (int fd, short event, void *privdata)</td></tr>
<tr class="memdesc:aefd16e913186045840ecc0b068f92460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for libEvent timer triggered "CheckQuit" event. <br /></td></tr>
<tr class="separator:aefd16e913186045840ecc0b068f92460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1453f9736ea6b4dae9db9f6cbd915f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1453f9736ea6b4dae9db9f6cbd915f8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ab1453f9736ea6b4dae9db9f6cbd915f8">cbOnMetacashMessage</a> (redisAsyncContext *c, void *r, void *privdata)</td></tr>
<tr class="memdesc:ab1453f9736ea6b4dae9db9f6cbd915f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function triggered by an incoming message in the "metacash" topic. <br /></td></tr>
<tr class="separator:ab1453f9736ea6b4dae9db9f6cbd915f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f0fc778c0ad37b72a92d237d6c1658"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4f0fc778c0ad37b72a92d237d6c1658"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#af4f0fc778c0ad37b72a92d237d6c1658">isCommand</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd, const char *command)</td></tr>
<tr class="memdesc:af4f0fc778c0ad37b72a92d237d6c1658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if cmd.command equals command. <br /></td></tr>
<tr class="separator:af4f0fc778c0ad37b72a92d237d6c1658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d48226976c3c3801344c2165420803e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d48226976c3c3801344c2165420803e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a9d48226976c3c3801344c2165420803e">publishPayoutEvent</a> (char *format,...)</td></tr>
<tr class="memdesc:a9d48226976c3c3801344c2165420803e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to publish a message to the "payout-event" topic. <br /></td></tr>
<tr class="separator:a9d48226976c3c3801344c2165420803e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91175f8d08325716034a50e0311322ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91175f8d08325716034a50e0311322ee"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a91175f8d08325716034a50e0311322ee">publishHopperEvent</a> (char *format,...)</td></tr>
<tr class="memdesc:a91175f8d08325716034a50e0311322ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to publish a message to the "hopper-event" topic. <br /></td></tr>
<tr class="separator:a91175f8d08325716034a50e0311322ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e00b7363e9f71b5dc9922eb17c60db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59e00b7363e9f71b5dc9922eb17c60db"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a59e00b7363e9f71b5dc9922eb17c60db">publishValidatorEvent</a> (char *format,...)</td></tr>
<tr class="memdesc:a59e00b7363e9f71b5dc9922eb17c60db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to publish a message to the "validator-event" topic. <br /></td></tr>
<tr class="separator:a59e00b7363e9f71b5dc9922eb17c60db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db34bc06df90ce0c18ed32197a6ef93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8db34bc06df90ce0c18ed32197a6ef93"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a8db34bc06df90ce0c18ed32197a6ef93">replyWith</a> (char *topic, char *format,...)</td></tr>
<tr class="memdesc:a8db34bc06df90ce0c18ed32197a6ef93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to publish a message to the given topic. <br /></td></tr>
<tr class="separator:a8db34bc06df90ce0c18ed32197a6ef93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70322d78c585d2ed7ddead275234e5ad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70322d78c585d2ed7ddead275234e5ad"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a70322d78c585d2ed7ddead275234e5ad">replyWithPropertyError</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd, char *name)</td></tr>
<tr class="memdesc:a70322d78c585d2ed7ddead275234e5ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to publish a reply to a message which was missing a mandatory property (or the property was of the wrong type). <br /></td></tr>
<tr class="separator:a70322d78c585d2ed7ddead275234e5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a983d31ea913e5aeea9854c7afc9d06e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a983d31ea913e5aeea9854c7afc9d06e5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a983d31ea913e5aeea9854c7afc9d06e5">replyWithSspResponse</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd, SSP_RESPONSE_ENUM response)</td></tr>
<tr class="memdesc:a983d31ea913e5aeea9854c7afc9d06e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to publish a reply to a message which contains a human readable version of the SSP response. <br /></td></tr>
<tr class="separator:a983d31ea913e5aeea9854c7afc9d06e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a017349d466b4d2f14d9dff2b032617"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a017349d466b4d2f14d9dff2b032617"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a6a017349d466b4d2f14d9dff2b032617">handleQuit</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a6a017349d466b4d2f14d9dff2b032617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "quit" command. <br /></td></tr>
<tr class="separator:a6a017349d466b4d2f14d9dff2b032617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6baaac084991183bffa4f60df21654"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b6baaac084991183bffa4f60df21654"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a2b6baaac084991183bffa4f60df21654">handleEmpty</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a2b6baaac084991183bffa4f60df21654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "empty" command. <br /></td></tr>
<tr class="separator:a2b6baaac084991183bffa4f60df21654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af481ccfd3457b5d443c5fc350f7eb049"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af481ccfd3457b5d443c5fc350f7eb049"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#af481ccfd3457b5d443c5fc350f7eb049">handleSmartEmpty</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:af481ccfd3457b5d443c5fc350f7eb049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "smart-empty" command. <br /></td></tr>
<tr class="separator:af481ccfd3457b5d443c5fc350f7eb049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d9f149fb793ac5d26049106e073e000"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d9f149fb793ac5d26049106e073e000"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a1d9f149fb793ac5d26049106e073e000">handlePayout</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a1d9f149fb793ac5d26049106e073e000"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "do-payout" and "test-payout" commands. <br /></td></tr>
<tr class="separator:a1d9f149fb793ac5d26049106e073e000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbcf38d2b9f851ea543913ce587af4ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acbcf38d2b9f851ea543913ce587af4ff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#acbcf38d2b9f851ea543913ce587af4ff">handleFloat</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:acbcf38d2b9f851ea543913ce587af4ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "do-float" and "test-float" commands. <br /></td></tr>
<tr class="separator:acbcf38d2b9f851ea543913ce587af4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e35bed2d557e942380cb28da9774591"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e35bed2d557e942380cb28da9774591"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a8e35bed2d557e942380cb28da9774591">dbgDisplayInhibits</a> (unsigned char inhibits)</td></tr>
<tr class="memdesc:a8e35bed2d557e942380cb28da9774591"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print inhibits debug output. <br /></td></tr>
<tr class="separator:a8e35bed2d557e942380cb28da9774591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3bf7e351c86140be8ee8dca7a4847e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3bf7e351c86140be8ee8dca7a4847e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ab3bf7e351c86140be8ee8dca7a4847e7">handleEnableChannels</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:ab3bf7e351c86140be8ee8dca7a4847e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "enable-channels" command. <br /></td></tr>
<tr class="separator:ab3bf7e351c86140be8ee8dca7a4847e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ecf117fed4073b390eee78eaafaf52c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ecf117fed4073b390eee78eaafaf52c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a7ecf117fed4073b390eee78eaafaf52c">handleDisableChannels</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a7ecf117fed4073b390eee78eaafaf52c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "disable-channels" command. <br /></td></tr>
<tr class="separator:a7ecf117fed4073b390eee78eaafaf52c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f5a77d76c6476b6c3064a14200bb29"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa6f5a77d76c6476b6c3064a14200bb29"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aa6f5a77d76c6476b6c3064a14200bb29">handleInhibitChannels</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:aa6f5a77d76c6476b6c3064a14200bb29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "inhibit-channels" command. <br /></td></tr>
<tr class="separator:aa6f5a77d76c6476b6c3064a14200bb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19cea4682066690ef517e96be07634bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19cea4682066690ef517e96be07634bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a19cea4682066690ef517e96be07634bc">handleEnable</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a19cea4682066690ef517e96be07634bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "enable" command. <br /></td></tr>
<tr class="separator:a19cea4682066690ef517e96be07634bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb52e0dc7c8e0025e118f26874e634ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb52e0dc7c8e0025e118f26874e634ac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aeb52e0dc7c8e0025e118f26874e634ac">handleDisable</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:aeb52e0dc7c8e0025e118f26874e634ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "disable" command. <br /></td></tr>
<tr class="separator:aeb52e0dc7c8e0025e118f26874e634ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85640d4476b62388a06263c321abe19f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85640d4476b62388a06263c321abe19f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a85640d4476b62388a06263c321abe19f">handleSetDenominationLevels</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a85640d4476b62388a06263c321abe19f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "set-denomination-levels" command. <br /></td></tr>
<tr class="separator:a85640d4476b62388a06263c321abe19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac5597f06c73e9a9c6c86a736bcccb4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac5597f06c73e9a9c6c86a736bcccb4b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aac5597f06c73e9a9c6c86a736bcccb4b">handleGetAllLevels</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:aac5597f06c73e9a9c6c86a736bcccb4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "get-all-levels" command. <br /></td></tr>
<tr class="separator:aac5597f06c73e9a9c6c86a736bcccb4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece62bc895c99d8f2163f96f6a4ea0e8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aece62bc895c99d8f2163f96f6a4ea0e8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aece62bc895c99d8f2163f96f6a4ea0e8">handleGetFirmwareVersion</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:aece62bc895c99d8f2163f96f6a4ea0e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "get-firmware-version" command. <br /></td></tr>
<tr class="separator:aece62bc895c99d8f2163f96f6a4ea0e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3318ecbeaee0f834296b0d78d59019"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd3318ecbeaee0f834296b0d78d59019"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#abd3318ecbeaee0f834296b0d78d59019">handleGetDatasetVersion</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:abd3318ecbeaee0f834296b0d78d59019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "get-dataset-version" command. <br /></td></tr>
<tr class="separator:abd3318ecbeaee0f834296b0d78d59019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9741a956b74002680409a7fe3cdc1697"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9741a956b74002680409a7fe3cdc1697"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a9741a956b74002680409a7fe3cdc1697">handleLastRejectNote</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a9741a956b74002680409a7fe3cdc1697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "last-reject-note" command. <br /></td></tr>
<tr class="separator:a9741a956b74002680409a7fe3cdc1697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf106327db934d65dd864dbfd4964153"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf106327db934d65dd864dbfd4964153"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#abf106327db934d65dd864dbfd4964153">handleChannelSecurityData</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:abf106327db934d65dd864dbfd4964153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "channel-security" command. <br /></td></tr>
<tr class="separator:abf106327db934d65dd864dbfd4964153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913c3422bbead851b571c40784c7365e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a913c3422bbead851b571c40784c7365e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a913c3422bbead851b571c40784c7365e">handleTest</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:a913c3422bbead851b571c40784c7365e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "test" command. <br /></td></tr>
<tr class="separator:a913c3422bbead851b571c40784c7365e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29582045823cf068980ba01110c2367"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad29582045823cf068980ba01110c2367"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ad29582045823cf068980ba01110c2367">handleConfigureBezel</a> (struct <a class="el" href="structm__command.html">m_command</a> *cmd)</td></tr>
<tr class="memdesc:ad29582045823cf068980ba01110c2367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the JSON "configure-bezel" command. <br /></td></tr>
<tr class="separator:ad29582045823cf068980ba01110c2367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb4e127ed384ba54e0af9e5f97656b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0eb4e127ed384ba54e0af9e5f97656b7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a0eb4e127ed384ba54e0af9e5f97656b7">cbOnRequestMessage</a> (redisAsyncContext *c, void *r, void *privdata)</td></tr>
<tr class="memdesc:a0eb4e127ed384ba54e0af9e5f97656b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function triggered by an incoming message in either the "hopper-request" or "validator-request" topic. <br /></td></tr>
<tr class="separator:a0eb4e127ed384ba54e0af9e5f97656b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf328d67ad6a8924e0e55b37edc6c878"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adf328d67ad6a8924e0e55b37edc6c878"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#adf328d67ad6a8924e0e55b37edc6c878">cbOnConnectPublishContext</a> (const redisAsyncContext *c, int status)</td></tr>
<tr class="memdesc:adf328d67ad6a8924e0e55b37edc6c878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function triggered by the redis client on connecting with the "publish" context. <br /></td></tr>
<tr class="separator:adf328d67ad6a8924e0e55b37edc6c878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37a0b9032d493e931817ae2dfc7f449d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37a0b9032d493e931817ae2dfc7f449d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a37a0b9032d493e931817ae2dfc7f449d">cbOnDisconnectPublishContext</a> (const redisAsyncContext *c, int status)</td></tr>
<tr class="memdesc:a37a0b9032d493e931817ae2dfc7f449d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function triggered by the redis client on disconnecting with the "publish" context. <br /></td></tr>
<tr class="separator:a37a0b9032d493e931817ae2dfc7f449d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e02f822a4f48b424cd312eb0038dc67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e02f822a4f48b424cd312eb0038dc67"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a4e02f822a4f48b424cd312eb0038dc67">cbOnConnectSubscribeContext</a> (const redisAsyncContext *c, int status)</td></tr>
<tr class="memdesc:a4e02f822a4f48b424cd312eb0038dc67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function triggered by the redis client on connecting with the "subscribe" context. <br /></td></tr>
<tr class="separator:a4e02f822a4f48b424cd312eb0038dc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20815ab562410f70810b1f36a9ba0242"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20815ab562410f70810b1f36a9ba0242"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a20815ab562410f70810b1f36a9ba0242">cbOnDisconnectSubscribeContext</a> (const redisAsyncContext *c, int status)</td></tr>
<tr class="memdesc:a20815ab562410f70810b1f36a9ba0242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function triggered by the redis client on disconnecting with the "subscribe" context. <br /></td></tr>
<tr class="separator:a20815ab562410f70810b1f36a9ba0242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supports arguments -h (redis hostname), -p (redis port), -d (serial device name) and -?. <br /></td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aeabd0ffb1baa7d9ce466e7a3ed1b9dcf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeabd0ffb1baa7d9ce466e7a3ed1b9dcf"></a>
redisAsyncContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#aeabd0ffb1baa7d9ce466e7a3ed1b9dcf">redisPublishCtx</a> = NULL</td></tr>
<tr class="memdesc:aeabd0ffb1baa7d9ce466e7a3ed1b9dcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">redis context used for publishing messages <br /></td></tr>
<tr class="separator:aeabd0ffb1baa7d9ce466e7a3ed1b9dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad7c4927c886d0c4513a4b5d97a6504"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ad7c4927c886d0c4513a4b5d97a6504"></a>
redisAsyncContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a9ad7c4927c886d0c4513a4b5d97a6504">redisSubscribeCtx</a> = NULL</td></tr>
<tr class="memdesc:a9ad7c4927c886d0c4513a4b5d97a6504"><td class="mdescLeft">&#160;</td><td class="mdescRight">redis context used for subscribing to topics <br /></td></tr>
<tr class="separator:a9ad7c4927c886d0c4513a4b5d97a6504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad964cc1f0187200cb39a1b4cedefba9f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad964cc1f0187200cb39a1b4cedefba9f"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ad964cc1f0187200cb39a1b4cedefba9f">SSP_OPTION_ROUTE_CASHBOX</a> = 0x01</td></tr>
<tr class="memdesc:ad964cc1f0187200cb39a1b4cedefba9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "route to cashbox" option as specified in SSP. <br /></td></tr>
<tr class="separator:ad964cc1f0187200cb39a1b4cedefba9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3aab6e1146c9c49829fde8bac1209c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3aab6e1146c9c49829fde8bac1209c5"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ab3aab6e1146c9c49829fde8bac1209c5">SSP_OPTION_ROUTE_STORAGE</a> = 0x00</td></tr>
<tr class="memdesc:ab3aab6e1146c9c49829fde8bac1209c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "route to storage" option as specified in SSP. <br /></td></tr>
<tr class="separator:ab3aab6e1146c9c49829fde8bac1209c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b1b5ed45897e2938b8cfd5be293a5d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b1b5ed45897e2938b8cfd5be293a5d4"></a>
const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a3b1b5ed45897e2938b8cfd5be293a5d4">SSP_OPTION_VOLATILE</a> = 0x00</td></tr>
<tr class="memdesc:a3b1b5ed45897e2938b8cfd5be293a5d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "volatile" option in configure bezel as specified in SSP. <br /></td></tr>
<tr class="separator:a3b1b5ed45897e2938b8cfd5be293a5d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b052d5d82b94fddc8c3bba488eb3849"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b052d5d82b94fddc8c3bba488eb3849"></a>
const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a7b052d5d82b94fddc8c3bba488eb3849">SSP_OPTION_NON_VOLATILE</a> = 0x01</td></tr>
<tr class="memdesc:a7b052d5d82b94fddc8c3bba488eb3849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "route to storage" option in configure bezel as specified in SSP. <br /></td></tr>
<tr class="separator:a7b052d5d82b94fddc8c3bba488eb3849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ba85cea4e850285c57c0bff8866db3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8ba85cea4e850285c57c0bff8866db3"></a>
const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#ab8ba85cea4e850285c57c0bff8866db3">SSP_OPTION_SOLID</a> = 0x00</td></tr>
<tr class="memdesc:ab8ba85cea4e850285c57c0bff8866db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "flashing" option in configure bezel as specified in SSP. <br /></td></tr>
<tr class="separator:ab8ba85cea4e850285c57c0bff8866db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757c716873fb87a178463f22740d03d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a757c716873fb87a178463f22740d03d5"></a>
const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a757c716873fb87a178463f22740d03d5">SSP_OPTION_FLASHING</a> = 0x01</td></tr>
<tr class="memdesc:a757c716873fb87a178463f22740d03d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "solid" option in configure bezel as specified in SSP. <br /></td></tr>
<tr class="separator:a757c716873fb87a178463f22740d03d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae4833784ec5d4e5747803ffc31e29a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afae4833784ec5d4e5747803ffc31e29a"></a>
const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#afae4833784ec5d4e5747803ffc31e29a">SSP_OPTION_DISABLED</a> = 0x02</td></tr>
<tr class="memdesc:afae4833784ec5d4e5747803ffc31e29a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic Constant for the "disabled" option in configure bezel as specified in SSP. <br /></td></tr>
<tr class="separator:afae4833784ec5d4e5747803ffc31e29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06524806bac53583688232b22a2367b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06524806bac53583688232b22a2367b3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="payoutd_8c.html#a06524806bac53583688232b22a2367b3">receivedSignal</a> = 0</td></tr>
<tr class="memdesc:a06524806bac53583688232b22a2367b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set by the signalHandler function and checked in cbCheckQuit. <br /></td></tr>
<tr class="separator:a06524806bac53583688232b22a2367b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main source file for the payoutd daemon. </p>
<p>In a nutshell:</p><ul>
<li>we are single threaded</li>
<li>libevent is used to trigger 2 periodic events ("poll event" and "check quit") which poll the hardware and check if we should quit</li>
<li><a class="el" href="payoutd_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Supports arguments -h (redis hostname), -p (redis port), -d (serial device name) and -...">main()</a> function supports arguments -h (redis hostname), -p (redis port), -d (serial device name) and -?</li>
<li>libevent calls <a class="el" href="payoutd_8c.html#acb7bc72e34521d01ee7a7f94014056c7" title="Callback function for libEvent timer triggered &quot;Poll&quot; event. ">cbOnPollEvent()</a> for the "poll" event</li>
<li>libevent calls <a class="el" href="payoutd_8c.html#aefd16e913186045840ecc0b068f92460" title="Callback function for libEvent timer triggered &quot;CheckQuit&quot; event. ">cbOnCheckQuitEvent()</a> for the "check quit" event</li>
<li>redis is used in conjunction with libevent</li>
<li>if a message is detected in 'validator-request' or 'hopper-request' the <a class="el" href="payoutd_8c.html#a0eb4e127ed384ba54e0af9e5f97656b7" title="Callback function triggered by an incoming message in either the &quot;hopper-request&quot; or &quot;validator-reque...">cbOnRequestMessage()</a> is called</li>
<li>the <a class="el" href="payoutd_8c.html#a0eb4e127ed384ba54e0af9e5f97656b7" title="Callback function triggered by an incoming message in either the &quot;hopper-request&quot; or &quot;validator-reque...">cbOnRequestMessage()</a> checks if the command is known and if its known dispatches the call to a handle&lt;Cmd&gt; function</li>
<li>a command handler interprets the provided JSON message, issues commands to the money hardware and publishes a JSON response</li>
<li>the naming convention used most of the time is like: the JSON command is 'configure-bezel' so the handler function is called <a class="el" href="payoutd_8c.html#ad29582045823cf068980ba01110c2367" title="Handles the JSON &quot;configure-bezel&quot; command. ">handleConfigureBezel()</a></li>
<li><a class="el" href="payoutd_8c.html#ad29582045823cf068980ba01110c2367" title="Handles the JSON &quot;configure-bezel&quot; command. ">handleConfigureBezel()</a> itself calls <a class="el" href="payoutd_8c.html#a6de01e04a4a8f8a391028a56b9d9516e" title="Implements the &quot;CONFIGURE BEZEL&quot; command from the SSP Protocol. ">mc_ssp_configure_bezel()</a> which sends the SSP command to the hardware</li>
<li>each device has its own poll event handling function (responsible for publishing the events to the devices event topic)</li>
<li>those poll handler functions are <a class="el" href="payoutd_8c.html#a5b8bc0840980431554dcca7371b87d77" title="Callback function used for inspecting and publishing events reported by the Hopper hardware...">hopperEventHandler()</a> and <a class="el" href="payoutd_8c.html#ac32e697eabde481d9782c8a50b0cabad" title="Callback function used for inspecting and publishing events reported by the Validator hardware...">validatorEventHandler()</a></li>
<li>on startup/exiting of the daemon started/exiting messages are published to the 'payout-event' topic </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
